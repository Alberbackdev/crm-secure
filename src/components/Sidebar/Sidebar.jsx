'use client'
import Link from "next/link";
import style from './sidebar.module.css'
import { signOut, useSession } from "next-auth/react";
import { useRouter } from "next/navigation";
import { useDispatch } from 'react-redux'
import { resetClientSlice } from "@/src/redux/slices/clientReducer";


export default function Sidebar() {
    const { data: session } = useSession();
    const dispatch = useDispatch()
    const router = useRouter();
    const inactiveLink ='flex gap-1 p-1';
    const activeLink = inactiveLink+' bg-white text-blue-900 rounded-lg';
    return (
      <aside className={style.contentSidebar}>
        <Link href={"/dashboard"} className="flex gap-1 -mb-10 -mt-16">
          <svg
            width="797"
            height="249"
            viewBox="0 0 797 249"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g filter="url(#filter0_d_323_5037)">
              <path
                d="M224.337 207.964C225.613 208.242 226.638 208.893 227.412 209.919C228.186 210.924 228.574 212.078 228.574 213.382C228.574 215.262 227.925 216.758 226.628 217.87C225.352 218.96 223.563 219.505 221.262 219.505H211V197H220.916C223.155 197 224.902 197.524 226.157 198.571C227.433 199.618 228.071 201.039 228.071 202.835C228.071 204.16 227.726 205.26 227.036 206.137C226.366 207.013 225.467 207.622 224.337 207.964ZM216.366 206.104H219.881C220.76 206.104 221.429 205.912 221.889 205.527C222.37 205.121 222.611 204.534 222.611 203.764C222.611 202.995 222.37 202.407 221.889 202.001C221.429 201.595 220.76 201.392 219.881 201.392H216.366V206.104ZM220.32 215.081C221.22 215.081 221.91 214.878 222.391 214.472C222.894 214.044 223.145 213.435 223.145 212.644C223.145 211.853 222.883 211.234 222.36 210.785C221.858 210.336 221.157 210.112 220.257 210.112H216.366V215.081H220.32Z"
                fill="#CEDEFF"
              />
              <path
                d="M245.622 201.616C247.502 201.616 248.777 203.529 248.055 205.264L239.262 226.385C238.855 227.363 237.9 228 236.84 228C234.945 228 233.675 226.052 234.44 224.318L234.824 223.448L236.832 218.896L231.263 205.387C230.523 203.59 231.844 201.616 233.787 201.616C234.937 201.616 235.963 202.336 236.354 203.417L239.751 212.805L243.141 203.361C243.517 202.314 244.509 201.616 245.622 201.616Z"
                fill="#CEDEFF"
              />
              <path
                d="M271.877 215.529H263.656L262.935 217.703C262.578 218.779 261.573 219.505 260.44 219.505C258.625 219.505 257.356 217.709 257.962 215.999L263.654 199.928C264.276 198.173 265.936 197 267.798 197C269.66 197 271.32 198.173 271.942 199.928L277.62 215.959C278.232 217.689 276.95 219.505 275.114 219.505C273.969 219.505 272.952 218.771 272.592 217.683L271.877 215.529ZM270.497 211.298L267.767 203.059L265.068 211.298H270.497Z"
                fill="#CEDEFF"
              />
              <path
                d="M302.499 197C304.57 197 306.25 198.679 306.25 200.751V216.822C306.25 218.303 305.048 219.505 303.566 219.505C302.085 219.505 300.883 218.303 300.883 216.822V206.008L296.7 217.469C296.253 218.692 295.091 219.505 293.79 219.505C292.49 219.505 291.329 218.693 290.881 217.473L286.668 205.976V216.822C286.668 218.303 285.466 219.505 283.985 219.505C282.503 219.505 281.301 218.303 281.301 216.822V200.775C281.301 198.69 282.992 197 285.077 197C286.624 197 288.015 197.944 288.586 199.383L293.823 212.58L299.007 199.38C299.571 197.944 300.956 197 302.499 197Z"
                fill="#CEDEFF"
              />
              <path
                d="M324.689 197C326.664 197 327.945 199.084 327.053 200.846L321.374 212.067V216.822C321.374 218.303 320.173 219.505 318.691 219.505C317.209 219.505 316.008 218.303 316.008 216.822V212.067L310.351 200.89C309.449 199.107 310.744 197 312.742 197C313.794 197 314.749 197.616 315.183 198.574L318.738 206.425L322.272 198.563C322.7 197.612 323.646 197 324.689 197Z"
                fill="#CEDEFF"
              />
              <path
                d="M172.065 200.311C164.297 217.334 150.936 231.404 134.053 240.343C124.829 226.102 107.788 219.264 90.9613 219.31C74.1514 219.356 57.4192 226.273 48.7849 239.717C32.0479 230.532 18.9106 216.27 11.4113 199.139C3.85103 181.869 2.4488 162.66 7.42452 144.536C12.4003 126.412 23.4727 110.397 38.903 99.0157C54.3336 87.634 73.245 81.5324 92.6608 81.674C112.077 81.8157 130.89 88.1926 146.141 99.7981C161.392 111.403 172.213 127.577 176.905 145.772C181.596 163.967 179.894 183.153 172.065 200.311Z"
                fill="white"
                stroke="white"
              />
              <path
                d="M122.197 168.142C122.197 183.822 107.82 196.633 89.9532 196.633C72.0862 196.633 57.709 183.822 57.709 168.142C57.709 152.463 72.0862 139.652 89.9532 139.652C107.82 139.652 122.197 152.463 122.197 168.142Z"
                fill="#2B308B"
                stroke="#2B308B"
              />
              <path
                d="M179.417 33.2557V158.475C177.566 148.72 174.472 136.389 166.79 124.46C157.593 110.177 141.848 96.5115 113.905 88.4654V33.2557C113.905 15.1652 128.571 0.5 146.661 0.5C164.752 0.5 179.417 15.1652 179.417 33.2557Z"
                fill="white"
                stroke="white"
              />
              <path
                d="M211 148.1C211 142.5 212.1 137.533 214.3 133.2C216.567 128.867 219.633 125.533 223.5 123.2C227.367 120.867 231.667 119.7 236.4 119.7C240 119.7 243.433 120.5 246.7 122.1C249.967 123.633 252.567 125.7 254.5 128.3V109.1C254.5 105.179 257.679 102 261.6 102C265.521 102 268.7 105.179 268.7 109.1V168.9C268.7 172.821 265.521 176 261.6 176C257.679 176 254.5 172.821 254.5 168.9V167.8C252.767 170.533 250.333 172.733 247.2 174.4C244.067 176.067 240.433 176.9 236.3 176.9C231.633 176.9 227.367 175.7 223.5 173.3C219.633 170.9 216.567 167.533 214.3 163.2C212.1 158.8 211 153.767 211 148.1ZM254.6 148.3C254.6 144.9 253.933 142 252.6 139.6C251.267 137.133 249.467 135.267 247.2 134C244.933 132.667 242.5 132 239.9 132C237.3 132 234.9 132.633 232.7 133.9C230.5 135.167 228.7 137.033 227.3 139.5C225.967 141.9 225.3 144.767 225.3 148.1C225.3 151.433 225.967 154.367 227.3 156.9C228.7 159.367 230.5 161.267 232.7 162.6C234.967 163.933 237.367 164.6 239.9 164.6C242.5 164.6 244.933 163.967 247.2 162.7C249.467 161.367 251.267 159.5 252.6 157.1C253.933 154.633 254.6 151.7 254.6 148.3Z"
                fill="white"
              />
              <path
                d="M278.773 148.1C278.773 142.5 279.873 137.533 282.073 133.2C284.34 128.867 287.373 125.533 291.173 123.2C295.04 120.867 299.34 119.7 304.073 119.7C308.207 119.7 311.807 120.533 314.873 122.2C318.007 123.867 320.507 125.967 322.373 128.5V127.65C322.373 123.756 325.53 120.6 329.423 120.6C333.317 120.6 336.473 123.756 336.473 127.65V168.95C336.473 172.844 333.317 176 329.423 176C325.53 176 322.373 172.844 322.373 168.95V167.9C320.573 170.5 318.073 172.667 314.873 174.4C311.74 176.067 308.107 176.9 303.973 176.9C299.307 176.9 295.04 175.7 291.173 173.3C287.373 170.9 284.34 167.533 282.073 163.2C279.873 158.8 278.773 153.767 278.773 148.1ZM322.373 148.3C322.373 144.9 321.707 142 320.373 139.6C319.04 137.133 317.24 135.267 314.973 134C312.707 132.667 310.273 132 307.673 132C305.073 132 302.673 132.633 300.473 133.9C298.273 135.167 296.473 137.033 295.073 139.5C293.74 141.9 293.073 144.767 293.073 148.1C293.073 151.433 293.74 154.367 295.073 156.9C296.473 159.367 298.273 161.267 300.473 162.6C302.74 163.933 305.14 164.6 307.673 164.6C310.273 164.6 312.707 163.967 314.973 162.7C317.24 161.367 319.04 159.5 320.373 157.1C321.707 154.633 322.373 151.7 322.373 148.3Z"
                fill="white"
              />
              <path
                d="M366.447 132.1V158.9C366.447 160.767 366.88 162.133 367.747 163C368.68 163.8 370.214 164.2 372.347 164.2H372.947C376.205 164.2 378.847 166.842 378.847 170.1C378.847 173.358 376.205 176 372.947 176H370.047C358.247 176 352.347 170.267 352.347 158.8V132.1H351.497C348.321 132.1 345.747 129.526 345.747 126.35C345.747 123.174 348.321 120.6 351.497 120.6H352.347V113.95C352.347 110.056 355.503 106.9 359.397 106.9C363.29 106.9 366.447 110.056 366.447 113.95V120.6H373.097C376.273 120.6 378.847 123.174 378.847 126.35C378.847 129.526 376.273 132.1 373.097 132.1H366.447Z"
                fill="white"
              />
              <path
                d="M385.316 148.1C385.316 142.5 386.416 137.533 388.616 133.2C390.883 128.867 393.916 125.533 397.716 123.2C401.583 120.867 405.883 119.7 410.616 119.7C414.75 119.7 418.35 120.533 421.416 122.2C424.55 123.867 427.05 125.967 428.916 128.5V127.65C428.916 123.756 432.073 120.6 435.966 120.6C439.86 120.6 443.016 123.756 443.016 127.65V168.95C443.016 172.844 439.86 176 435.966 176C432.073 176 428.916 172.844 428.916 168.95V167.9C427.116 170.5 424.616 172.667 421.416 174.4C418.283 176.067 414.65 176.9 410.516 176.9C405.85 176.9 401.583 175.7 397.716 173.3C393.916 170.9 390.883 167.533 388.616 163.2C386.416 158.8 385.316 153.767 385.316 148.1ZM428.916 148.3C428.916 144.9 428.25 142 426.916 139.6C425.583 137.133 423.783 135.267 421.516 134C419.25 132.667 416.816 132 414.216 132C411.616 132 409.216 132.633 407.016 133.9C404.816 135.167 403.016 137.033 401.616 139.5C400.283 141.9 399.616 144.767 399.616 148.1C399.616 151.433 400.283 154.367 401.616 156.9C403.016 159.367 404.816 161.267 407.016 162.6C409.283 163.933 411.683 164.6 414.216 164.6C416.816 164.6 419.25 163.967 421.516 162.7C423.783 161.367 425.583 159.5 426.916 157.1C428.25 154.633 428.916 151.7 428.916 148.3Z"
                fill="white"
              />
              <path
                d="M477.89 176.9C473.357 176.9 469.29 176.1 465.69 174.5C462.09 172.833 459.223 170.6 457.09 167.8C456.616 167.158 456.191 166.5 455.815 165.827C453.782 162.181 457.262 158.5 461.436 158.5C465.042 158.5 468.044 161.587 470.89 163.8C472.757 165.2 475.057 165.9 477.79 165.9C480.457 165.9 482.523 165.367 483.99 164.3C485.523 163.233 486.29 161.867 486.29 160.2C486.29 158.4 485.357 157.067 483.49 156.2C481.69 155.267 478.79 154.267 474.79 153.2C470.657 152.2 467.257 151.167 464.59 150.1C461.99 149.033 459.723 147.4 457.79 145.2C455.923 143 454.99 140.033 454.99 136.3C454.99 133.233 455.857 130.433 457.59 127.9C459.39 125.367 461.923 123.367 465.19 121.9C468.523 120.433 472.423 119.7 476.89 119.7C483.49 119.7 488.757 121.367 492.69 124.7C494.808 126.46 496.414 128.557 497.508 130.994C499.11 134.564 495.825 138 491.912 138C488.462 138 485.737 134.888 482.99 132.8C481.39 131.467 479.223 130.8 476.49 130.8C473.957 130.8 471.99 131.267 470.59 132.2C469.257 133.133 468.59 134.433 468.59 136.1C468.59 137.967 469.523 139.4 471.39 140.4C473.257 141.333 476.157 142.3 480.09 143.3C484.09 144.3 487.39 145.333 489.99 146.4C492.59 147.467 494.823 149.133 496.69 151.4C498.623 153.6 499.623 156.533 499.69 160.2C499.69 163.4 498.79 166.267 496.99 168.8C495.257 171.333 492.723 173.333 489.39 174.8C486.123 176.2 482.29 176.9 477.89 176.9Z"
                fill="white"
              />
              <path
                d="M527.482 132.1V158.9C527.482 160.767 527.915 162.133 528.782 163C529.715 163.8 531.249 164.2 533.382 164.2H533.982C537.241 164.2 539.882 166.842 539.882 170.1C539.882 173.358 537.241 176 533.982 176H531.082C519.282 176 513.382 170.267 513.382 158.8V132.1H512.532C509.356 132.1 506.782 129.526 506.782 126.35C506.782 123.174 509.356 120.6 512.532 120.6H513.382V113.95C513.382 110.056 516.538 106.9 520.432 106.9C524.326 106.9 527.482 110.056 527.482 113.95V120.6H534.132C537.308 120.6 539.882 123.174 539.882 126.35C539.882 129.526 537.308 132.1 534.132 132.1H527.482Z"
                fill="white"
              />
              <path
                d="M574.552 176.9C569.218 176.9 564.418 175.733 560.152 173.4C555.885 171 552.518 167.633 550.052 163.3C547.652 158.967 546.452 153.967 546.452 148.3C546.452 142.633 547.685 137.633 550.152 133.3C552.685 128.967 556.118 125.633 560.452 123.3C564.785 120.9 569.618 119.7 574.952 119.7C580.285 119.7 585.118 120.9 589.452 123.3C593.785 125.633 597.185 128.967 599.652 133.3C602.185 137.633 603.452 142.633 603.452 148.3C603.452 153.967 602.152 158.967 599.552 163.3C597.018 167.633 593.552 171 589.152 173.4C584.818 175.733 579.952 176.9 574.552 176.9ZM574.552 164.7C577.085 164.7 579.452 164.1 581.652 162.9C583.918 161.633 585.718 159.767 587.052 157.3C588.385 154.833 589.052 151.833 589.052 148.3C589.052 143.033 587.652 139 584.852 136.2C582.118 133.333 578.752 131.9 574.752 131.9C570.752 131.9 567.385 133.333 564.652 136.2C561.985 139 560.652 143.033 560.652 148.3C560.652 153.567 561.952 157.633 564.552 160.5C567.218 163.3 570.552 164.7 574.552 164.7Z"
                fill="white"
              />
              <path
                d="M658.971 120.6C662.865 120.6 666.021 123.756 666.021 127.65V168.95C666.021 172.844 662.84 176 658.946 176C655.08 176 651.921 172.866 651.921 169C650.121 171.4 647.754 173.3 644.821 174.7C641.954 176.033 638.821 176.7 635.421 176.7C631.088 176.7 627.254 175.8 623.921 174C620.588 172.133 617.954 169.433 616.021 165.9C614.154 162.3 613.221 158.033 613.221 153.1V127.6C613.221 123.734 616.355 120.6 620.221 120.6C624.087 120.6 627.221 123.734 627.221 127.6V151.1C627.221 155.5 628.321 158.9 630.521 161.3C632.721 163.633 635.721 164.8 639.521 164.8C643.388 164.8 646.421 163.633 648.621 161.3C650.821 158.9 651.921 155.5 651.921 151.1V127.65C651.921 123.756 655.077 120.6 658.971 120.6Z"
                fill="white"
              />
              <path
                d="M676.234 148.3C676.234 142.567 677.401 137.567 679.734 133.3C682.068 128.967 685.301 125.633 689.434 123.3C693.568 120.9 698.301 119.7 703.634 119.7C710.501 119.7 716.168 121.433 720.634 124.9C722.719 126.463 724.486 128.323 725.937 130.478C728.677 134.551 724.989 139.3 720.081 139.3C716.828 139.3 714.154 136.956 711.793 134.718C711.404 134.35 710.985 134.011 710.534 133.7C708.668 132.3 706.334 131.6 703.534 131.6C699.534 131.6 696.368 133.067 694.034 136C691.701 138.867 690.534 142.967 690.534 148.3C690.534 153.567 691.701 157.667 694.034 160.6C696.368 163.467 699.534 164.9 703.534 164.9C707.101 164.9 709.889 163.896 711.897 161.889C714.177 159.61 716.8 157.3 720.024 157.3C724.946 157.3 728.604 162.074 725.811 166.127C724.385 168.197 722.659 170.022 720.634 171.6C716.101 175.133 710.434 176.9 703.634 176.9C698.301 176.9 693.568 175.733 689.434 173.4C685.301 171 682.068 167.667 679.734 163.4C677.401 159.067 676.234 154.033 676.234 148.3Z"
                fill="white"
              />
              <path
                d="M771.191 119.8C775.391 119.8 779.124 120.733 782.391 122.6C785.657 124.4 788.191 127.1 789.991 130.7C791.857 134.233 792.791 138.5 792.791 143.5V169C792.791 172.866 789.657 176 785.791 176C781.925 176 778.791 172.866 778.791 169V145.4C778.791 141 777.691 137.633 775.491 135.3C773.291 132.9 770.291 131.7 766.491 131.7C762.624 131.7 759.557 132.9 757.291 135.3C755.091 137.633 753.991 141 753.991 145.4V169C753.991 172.866 750.857 176 746.991 176C743.125 176 739.991 172.866 739.991 169V109C739.991 105.134 743.125 102 746.991 102C750.857 102 753.991 105.134 753.991 109V127.5C755.791 125.1 758.191 123.233 761.191 121.9C764.191 120.5 767.524 119.8 771.191 119.8Z"
                fill="white"
              />
            </g>
            <defs>
              <filter
                id="filter0_d_323_5037"
                x="0"
                y="0"
                width="796.791"
                height="249"
                filterUnits="userSpaceOnUse"
                colorInterpolationFilters="sRGB"
              >
                <feFlood floodOpacity="0" result="BackgroundImageFix" />
                <feColorMatrix
                  in="SourceAlpha"
                  type="matrix"
                  values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                  result="hardAlpha"
                />
                <feOffset dy="4" />
                <feGaussianBlur stdDeviation="2" />
                <feComposite in2="hardAlpha" operator="out" />
                <feColorMatrix
                  type="matrix"
                  values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                />
                <feBlend
                  mode="normal"
                  in2="BackgroundImageFix"
                  result="effect1_dropShadow_323_5037"
                />
                <feBlend
                  mode="normal"
                  in="SourceGraphic"
                  in2="effect1_dropShadow_323_5037"
                  result="shape"
                />
              </filter>
            </defs>
          </svg>
        </Link>

        {session ? (
          <nav
            className="flex flex-col gap-2"
            onClick={() => dispatch(resetClientSlice())}
          >
            <Link href={"/dashboard"} className={activeLink}>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                strokeWidth={1.5}
                stroke="currentColor"
                className="w-6 h-6"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"
                />
              </svg>
              Dashboard
            </Link>
            <Link href={"/clientes"} className={activeLink}>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                strokeWidth={1.5}
                stroke="currentColor"
                className="w-6 h-6"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"
                />
              </svg>
              Clientes
            </Link>
            <Link href={"/ventas"} className={activeLink}>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                strokeWidth={1.5}
                stroke="currentColor"
                className="w-6 h-6"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"
                />
              </svg>
              Ventas
            </Link>
            <Link href={"/configuracion"} className={activeLink}>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                strokeWidth={1.5}
                stroke="currentColor"
                className="w-6 h-6"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"
                />
              </svg>
              Configuracion
            </Link>
            <button
              className={style.logoutBtn}
              onClick={() => {
                signOut();
              }}
            >
              Cerrar Sesión
            </button>
          </nav>
        ) : (
          <button type="button" onClick={() => router.push("/login")}>
            Iniciar Session
          </button>
        )}
      </aside>
    );
}
